<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Subset an epicontact object by factors — subset.epicontacts • epicontacts</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Subset an epicontact object by factors — subset.epicontacts" />

<meta property="og:description" content="This function subsets an epicontacts object based on node,
edge and/or cluster attributes. Specifying node attributes will return an
epicontacts object containing only individuals with these
given attributes in the linelist. Specifying edge attributes will return
contacts with the attributes provided. Specifying cluster attributes will
return clusters of connected cases, and can be defined by ids (returning
clusters of cases connected to specified cases) or cluster sizes (returning
cluster of a specific, minimum or maximum size)." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">epicontacts</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/epicontacts.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/epicontacts_class.html">`epicontacts` Class: Details Regarding the Data Structure for `epicontacts` Objects</a>
    </li>
    <li>
      <a href="../articles/ttree.html">Visualising timed transmission trees using epicontacts</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Subset an epicontact object by factors</h1>
    
    <div class="hidden name"><code>subset.epicontacts.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function subsets an <code><a href='make_epicontacts.html'>epicontacts</a></code> object based on node,
edge and/or cluster attributes. Specifying node attributes will return an
<code><a href='make_epicontacts.html'>epicontacts</a></code> object containing only individuals with these
given attributes in the linelist. Specifying edge attributes will return
contacts with the attributes provided. Specifying cluster attributes will
return clusters of connected cases, and can be defined by ids (returning
clusters of cases connected to specified cases) or cluster sizes (returning
cluster of a specific, minimum or maximum size).</p>
    
    </div>

    <pre class="usage"><span class='co'># S3 method for epicontacts</span>
<span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span>(<span class='no'>x</span>, <span class='kw'>node_attribute</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>edge_attribute</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>cluster_id</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>cs</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>cs_min</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>cs_max</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>an epi_contact object to be subsetted</p></td>
    </tr>
    <tr>
      <th>node_attribute</th>
      <td><p>a named list defining the node attribute name and node
attribute value (as a single value or vector of values).  Dates must be
provided as a vector of date objects, defining the range of dates
included in the subset. If only one date is provided, only node
attributes with that date will be returned.</p></td>
    </tr>
    <tr>
      <th>edge_attribute</th>
      <td><p>a named list defining the edge attribute name and edge
attribute value (as a single value or vector of values).  Dates must be
provided as a vector of date objects, defining the range of dates
included in the subset. If only one date is provided, only edge
attributes with that date will be returned.</p></td>
    </tr>
    <tr>
      <th>cluster_id</th>
      <td><p>a character vector of case identifiers; the connected
components attached to these cases will be retained in the output object.</p></td>
    </tr>
    <tr>
      <th>cs</th>
      <td><p>cluster size to be used for subsetting</p></td>
    </tr>
    <tr>
      <th>cs_min</th>
      <td><p>minimum cluster size for subsetting</p></td>
    </tr>
    <tr>
      <th>cs_max</th>
      <td><p>maximum cluster size for subsetting</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>further arguments passed on to other methods</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fu'><a href='https://rdrr.io/r/base/library.html'>require</a></span>(<span class='no'>outbreaks</span>)) {
<span class='co'>## build data</span>

<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='make_epicontacts.html'>make_epicontacts</a></span>(<span class='no'>ebola_sim</span>$<span class='no'>linelist</span>, <span class='no'>ebola_sim</span>$<span class='no'>contacts</span>,
                      <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>"case_id"</span>, <span class='kw'>to</span> <span class='kw'>=</span> <span class='st'>"case_id"</span>,
                      <span class='kw'>from</span> <span class='kw'>=</span> <span class='st'>"infector"</span>, <span class='kw'>directed</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='co'>## subset based on node and edge attributes</span>
<span class='no'>x_subset</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span>(<span class='no'>x</span>, <span class='kw'>node_attribute</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='st'>"gender"</span> <span class='kw'>=</span> <span class='st'>"f"</span>),
                   <span class='kw'>edge_attribute</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='st'>"source"</span> <span class='kw'>=</span> <span class='st'>"funeral"</span>))


<span class='co'>## subset a cluster connected to a given id</span>
<span class='co'>## (can be a vector of ids as well)</span>
<span class='co'>## here picking node with highest out-degree</span>

<span class='no'>id</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/which.min.html'>which.max</a></span>(<span class='fu'><a href='get_degree.html'>get_degree</a></span>(<span class='no'>x</span>, <span class='st'>"out"</span>)))
<span class='no'>x_subset</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='thin.html'>thin</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span>(<span class='no'>x</span>, <span class='kw'>cluster_id</span> <span class='kw'>=</span> <span class='no'>id</span>), <span class='fl'>2</span>)
<span class='no'>x_subset</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>x_subset</span>)


<span class='co'>## subset based on cluster size range</span>

<span class='no'>x_subset</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span>(<span class='no'>x</span>, <span class='kw'>cs_min</span> <span class='kw'>=</span> <span class='fl'>12</span>, <span class='kw'>cs_max</span> <span class='kw'>=</span> <span class='fl'>15</span>)


<span class='co'>## subset based on single cluster size</span>

<span class='no'>x_subset</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span>(<span class='no'>x</span>, <span class='kw'>cs</span> <span class='kw'>=</span> <span class='fl'>12</span>)


<span class='co'>## subset based on minimum cluster size</span>

<span class='no'>x_subset</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span>(<span class='no'>x</span>, <span class='kw'>cs_min</span> <span class='kw'>=</span> <span class='fl'>10</span>)


<span class='co'>## subset based on maximum cluster size</span>

<span class='no'>x_subset</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span>(<span class='no'>x</span>, <span class='kw'>cs_max</span> <span class='kw'>=</span> <span class='fl'>9</span>)


}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Finlay Campbell (<a href='mailto:finlaycampbell93@gmail.com'>finlaycampbell93@gmail.com</a>), Nistara
    Randhawa (<a href='mailto:nrandhawa@ucdavis.edu'>nrandhawa@ucdavis.edu</a>)</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Finlay Campbell, Thibaut Jombart, Nistara Randhawa, Bertrand Sudre, VP Nagraj, Thomas Crellen, Zhian N. Kamvar.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


